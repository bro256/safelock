{% extends 'base.html' %}
{% load static %}
{% block title %} {{ block.super }} {% endblock title %}
{% block content %}
    <div class="row">
        <h1>Password Entry</h1>
    </div>
    {% comment %} <table class="table table-stripped">
        <tr>
            <td>Title:</td>
            <td>{{ object.title }}</td>
        </tr>
        <tr>
            <td>Email or Username:</td>
            <td>{{ object.username }}</td>
        </tr>
        <tr>
            <td>Website:</td>
            <td>{{ object.website|urlize }}</td>
        </tr>
        <tr>
            <td>Password:</td>
            <td>
                <input id="password-field" type="password" value="{{ decrypted_password }}" readonly>
                <span id="password-strength" class="{% if password_strength == 'Strong' %}text-success{% elif password_strength == 'Moderate' %}text-warning{% else %}text-danger{% endif %}"></span>
                <button class="btn btn-outline-primary" type="button" onclick="toggleTextVisibility()">Show</button>
                <button class="btn btn-outline-primary" type="button" onclick="copyToClipboard()">Copy</button>
            </td>
        </tr>
        <tr>
            <td>Is in Bookmarks:</td>
            <td>
                <div class="form-check form-switch">
                    <input  class="form-check-input form-check form-switch md-2" type="checkbox" id="numbers" {% if form.is_in_bookmarks.value %}checked{% endif %} readonly>
                </div>
            </td>
        </tr>
        <tr>
            <td>Created (GMT):</td>
            <td>{{ object.created_at }}</td>
        </tr>
        <tr>
            <td>Updated (GMT):</td>
            <td> {{ object.updated_at }}</td>
        </tr>
    </table> {% endcomment %}

    <div class="container">
        <div class="row mb-3">
            <div class="col-md-6">
                <div>
                    <label for="title">Title</label>
                </div>
                <div class="mb-3">
                    <input class="form-control" type="text" name="title" value="{{ object.title }}" readonly>
                </div>
                <div>
                    <label for="username">Email or Username</label>
                </div>
                <div class="mb-3">
                    <input class="form-control" type="text" name="username" value="{{ object.username }}" readonly>
                </div>
                <div>
                    <label for="website">Website</label>
                </div>
                <div class="mb-3">
                    <input class="form-control" type="text" name="website" value="{{ object.website }}" readonly>
                </div>
                <div>
                    <label for="password">Password</label>
                </div>
                <div>
                    <input class="form-control" id="password-field" type="text" name="password" oninput="showPasswordStrength()" value="{{ decrypted_password }}" readonly>
                </div>
                <div class="mb-3">
                    <span>Strength: </span> <span id="password-strength"></span>
                </div>
                <div class="mb-3">
                    <button class="btn btn-outline-primary" type="button" onclick="toggleTextVisibility()">Show</button>
                    <button class="btn btn-outline-primary" type="button" onclick="passwordToClipboard()">Copy</button>
                </div>
                <div>
                    <label for="is_in_bookmarks">In Bookmarks</label>
                </div>
                <div class="mb-3 form-check form-switch">
                    <input class="form-check-input form-check form-switch md-2" name="is_in_bookmarks" type="checkbox" id="numbers" {% if object.is_in_bookmarks %} checked {% endif %} disabled>
                </div>
                {% if passwordentry.id %}
                    <div class="mb-3">Created (GMT): {{ object.created_at }}</div>
                    <div class="mb-3">Updated (GMT): {{ object.updated_at }}</div>
                {% endif %}
            </div>
        </div>
    </div>

    <a class="btn btn-primary" href="{% url 'password_entry_list' %}" role="button">Back</a>
    <a class="btn btn-primary" href="{% url 'password_entry_update' pk=object.pk %}">Edit</a>
    <!-- Scripts -->
    <script src="{% static 'secret_manager/js/password_field.js' %}"></script>
{% endblock content %}
